# Teddy's Tale — Django-проект сайта авторских мишек Тедди

> Полнофункциональный сайт для мастера ручной работы, реализованный на **Django 5.2+**.

---

## Общее описание проекта

**Teddy's Tale** — это веб-платформа, сочетающая публичную часть (лендинг для клиентов) и мощную административную панель для управления контентом. Сайт создан для мастера, изготавливающего авторских мишек Тедди вручную, и позволяет легко обновлять тексты, изображения, товары и настройки без вмешательства в код.

---

## Основные характеристики

| Компонент          | Описание |
|--------------------|--------|
| **Фронтенд**        | Адаптивный дизайн с поддержкой мобильных устройств |
| **Бэкенд**          | Django 5.2+ |
| **База данных**     | SQLite (для разработки), PostgreSQL (готово к продакшену) |
| **Аутентификация**  | Кастомная система входа в админ-панель |
| **Контент**         | Полностью динамическое управление через админку |
| **Файлы**           | Загрузка, валидация и управление изображениями |
| **Логирование**     | Полный журнал изменений в админ-панели |

---

## Реализованные возможности (Django Backend)

### 1. Модели данных (`models.py`)
Созданы следующие модели:

- `PageSection` — управление секциями сайта (`hero`, `shop`, `about`, и др.)
- `SectionContent` — гибкое хранение контента: текст, изображения, ссылки и т.п.
- `ShopItem` — товары с 1–9 слотами, заголовком, описанием, ценой и изображением
- `UploadedImage` — управление загруженными изображениями
- `SiteSettings` — глобальные настройки сайта (поддержка разных типов значений)
- `ChangeLog` — журнал изменений с деталями действий

### 2. Административная панель
Полноценная **CRUD-система** с удобным интерфейсом:

- Управление секциями: вкл/выкл, порядок, контент через инлайны
- Редактирование товаров: текст, цена, изображения с превью
- Просмотр и фильтрация изображений
- Настройки сайта по ключам и категориям
- Логи изменений — только для чтения, с фильтрацией по дате и типу действия

### 3. Аутентификация и безопасность
- Кастомная форма входа с поддержкой сессий и cookies
- Защита от **CSRF** и **XSS**
- Валидация всех входных данных на сервере
- Хэширование паролей

### 4. Файловый менеджер
- Загрузка изображений с валидацией формата и размера
- Автоматическое переименование файлов
- Хранение в `media/`
- Превью изображений в админке

### 5. Гибкая система контента
- Поддержка типов: `текст`, `многострочный текст`, `изображение`, `URL`, `телефон`, `email`, `координаты`
- Уникальные ключи для каждого элемента (`hero_title`, `cta_button_url` и т.д.)
- Полное редактирование через админ-панель — без правки HTML

### 6. Журналирование изменений
- Автоматическая запись: **пользователь**, **IP**, **User-Agent**, **старое/новое значение**
- Запрет на редактирование логов вручную

### 7. Интеграции
- Поддержка **Яндекс.Карт** через координаты в `SectionContent`
- Все данные обновляются динамически через админку

---

## Техническая реализация
### Архитектура проекта

---
``` teddys_tale/
├── main/ # Основное приложение
│ ├── models.py # Все модели данных
│ ├── views.py # Контроллеры (админка + публичная часть)
│ ├── forms.py # Формы с валидацией
│ ├── admin.py # Настройка Django Admin
│ └── templates/ # HTML-шаблоны
├── static/ # Стили, скрипты, шрифты
│ ├── css/
│ ├── js/
│ └── assets/
├── media/ # Загруженные изображения
└── requirements.txt # Зависимости
```
---

### Используемые технологии (Django)
- **Models**: `CharField`, `TextField`, `ImageField`, `ForeignKey`, валидация
- **Views**: CBV (админка), FBV (публичная часть)
- **Forms**: `ModelForm` + кастомные формы
- **Templates**: наследование, динамические блоки
- **Middleware**: обработка запросов/ответов
- **Settings**: отдельные конфигурации для dev и prod

### База данных
- **Разработка**: SQLite3
- **Продакшен**: PostgreSQL (готово к развёртыванию)
- **Миграции**: автоматизированы через `makemigrations` / `migrate`

---

## Установка и запуск

1. Клонируйте репозиторий:

   <span style="color: red;">_git clone https://github.com/fesik-evgenya/TeddysTale_with-BackEnd.git_</span>

   <span style="color: red;">_cd teddys_tale_</span>
2. Установите зависимости:

   <span style="color: red;">_pip install -r requirements.txt_</span>

3. Примените миграции:

   <span style="color: red;">_python manage.py migrate_</span>

4. Создайте суперпользователя:

   <span style="color: red;">_python manage.py createsuperuser_</span>

5. Запустите сервер:

   <span style="color: red;">_python manage.py runserver_</span>

<span style="color: red;">Админ-панель будет доступна по адресу: http://127.0.0.1:8000/admin/</span>.

### Контакты
Проект разработан для мастера авторских мишек Тедди.
По вопросам настройки и доработки обращайтесь к разработчику: 
<span style="color: green;">ganef85@mail.ru</span>

### Версия и статус
Версия: 2.0 (обновлено с учётом рефакторинга моделей и админ-панели)
Статус: __В разработке__